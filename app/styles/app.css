@import 'fonts';
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Global Theme Variables */
:root {
  /* Color System */
  --background: 0 0% 100%;
  --foreground: 222.2 84% 4.9%;
  --card: 0 0% 100%;
  --card-foreground: 222.2 84% 4.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 222.2 84% 4.9%;

  /* Primary Blue Theme - Darkened */
  --primary: 217 91% 45%;
  --primary-foreground: 210 40% 98%;

  /* Secondary & UI Colors - Darker than Primary */
  --secondary: 217 91% 35%;
  --secondary-foreground: 210 40% 98%;
  --muted: 0 0% 95%;
  --muted-foreground: 0 0% 30%;
  --accent: 217 91% 35%;
  --accent-foreground: 210 40% 98%;

  /* Status Colors */
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 210 40% 98%;

  /* UI Elements */
  --border: 214.3 31.8% 91.4%;
  --input: 214.3 31.8% 91.4%;
  --ring: 217 91% 60%;
  --radius: 0.5rem;

  /* Chart Colors */
  --chart-1: 217 91% 60%;
  --chart-2: 173 58% 39%;
  --chart-3: 197 37% 24%;
  --chart-4: 43 74% 66%;
  --chart-5: 27 87% 67%;

  /* Neutral Palette */
  --black: #000000;
  --neutral-darkest: #171717;
  --neutral-darker: #404040;
  --neutral-dark: #525252;
  --neutral-medium: #737373;
  --neutral-light: #a3a3a3;
  --neutral-lighter: #d4d4d4;
  --neutral-lightest: #f9f9f9;
  --white: #ffffff;
  --overlay: rgba(0, 0, 0, 0.3);

  /* Button Styles - Primary */
  --primary-btn-bg-color: hsl(217, 91%, 45%);
  --primary-btn-border-color: hsl(217, 91%, 40%);
  --primary-btn-text-color: #ffffff;
  --primary-btn-hover-bg-color: hsl(217, 91%, 50%);
  --primary-btn-hover-border-color: hsl(217, 91%, 50%);
  --primary-btn-hover-text-color: #ffffff;

  /* Button Styles - Secondary */
  --secondary-btn-bg-color: #ffffff;
  --secondary-btn-border-color: #ffffff;
  --secondary-btn-text-color: hsl(217, 91%, 60%);
  --secondary-btn-hover-bg-color: hsl(217, 91%, 60%);
  --secondary-btn-hover-border-color: hsl(217, 91%, 60%);
  --secondary-btn-hover-text-color: #ffffff;

  /* Button Styles - Inverse Light */
  --inverse-light-btn-bg-color: transparent;
  --inverse-light-btn-border-color: hsl(217, 91%, 60%);
  --inverse-light-btn-text-color: hsl(217, 91%, 60%);
  --inverse-light-btn-hover-bg-color: hsl(217, 91%, 60%);
  --inverse-light-btn-hover-border-color: hsl(217, 91%, 60%);
  --inverse-light-btn-hover-text-color: #ffffff;

  /* Button Styles - Inverse Dark */
  --inverse-dark-btn-bg-color: transparent;
  --inverse-dark-btn-border-color: hsl(217, 91%, 50%);
  --inverse-dark-btn-text-color: hsl(217, 91%, 50%);
  --inverse-dark-btn-hover-bg-color: hsl(217, 91%, 50%);
  --inverse-dark-btn-hover-border-color: hsl(217, 91%, 50%);
  --inverse-dark-btn-hover-text-color: #ffffff;

  /* Breakpoints */
  --xs: 480px;
  --sm: 640px;
  --md: 768px;
  --lg: 1024px;
  --xl: 1280px;
  --2xl: 1536px;

  /* Layout Constants */
  --header-height-mobile: 4.5rem;
  --header-height-desktop: 4.5rem;
  --promobar-height-mobile: 3rem;
  --promobar-height-desktop: 3rem;
  --drawer-width: 23.5rem;
  --content-max-width: 96rem;
  --product-image-aspect-ratio: 5 / 4;
}

/* Dark Mode Theme */
.dark {
  --background: 222.2 47.4% 11.2%;
  --foreground: 210 40% 98%;
  --card: 222.2 47.4% 11.2%;
  --card-foreground: 210 40% 98%;
  --popover: 222.2 47.4% 11.2%;
  --popover-foreground: 210 40% 98%;

  /* Dark Mode Blue Theme - Darkened */
  --primary: 217 91% 50%;
  --primary-foreground: 222.2 47.4% 11.2%;

  /* Secondary & UI Colors - Darker than Primary */
  --secondary: 217 91% 40%;
  --secondary-foreground: 210 40% 98%;
  --muted: 217 91% 40%;
  --muted-foreground: 215 20.2% 65.1%;
  --accent: 217 91% 40%;
  --accent-foreground: 210 40% 98%;

  /* Status Colors */
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 210 40% 98%;

  /* UI Elements */
  --border: 217.2 32.6% 17.5%;
  --input: 217.2 32.6% 17.5%;
  --ring: 224 76% 48%;

  /* Chart Colors - Brighter in Dark Mode */
  --chart-1: 220 70% 50%;
  --chart-2: 160 60% 45%;
  --chart-3: 30 80% 55%;
  --chart-4: 280 65% 60%;
  --chart-5: 340 75% 55%;

  /* Button Styles in Dark Mode */
  --primary-btn-bg-color: hsl(217, 91%, 65%);
  --primary-btn-border-color: hsl(217, 91%, 65%);
  --primary-btn-text-color: hsl(222.2, 47.4%, 11.2%);
  --primary-btn-hover-bg-color: hsl(217, 91%, 75%);
  --primary-btn-hover-border-color: hsl(217, 91%, 75%);
  --primary-btn-hover-text-color: hsl(222.2, 47.4%, 11.2%);

  --secondary-btn-bg-color: hsl(222.2, 47.4%, 11.2%);
  --secondary-btn-border-color: hsl(222.2, 47.4%, 11.2%);
  --secondary-btn-text-color: hsl(217, 91%, 65%);
  --secondary-btn-hover-bg-color: hsl(217, 91%, 65%);
  --secondary-btn-hover-border-color: hsl(217, 91%, 65%);
  --secondary-btn-hover-text-color: hsl(222.2, 47.4%, 11.2%);
}

@layer base {
  * {
    box-sizing: border-box;
    @apply border-border;
  }

  html {
    @apply flex min-h-full w-full flex-col scroll-auto font-sans;
    /* Add initial value for viewport height that works on initial load */
    --viewport-height: 100vh;
  }

  body {
    @apply text-body m-0 flex w-full flex-col bg-background text-foreground;
    /* Use both 100vh and the CSS variable with 100vh as fallback */
    min-height: 100vh;
    min-height: var(--viewport-height, 100vh);
  }

  main {
    @apply flex-1;
  }

  h1 {
    @apply text-h1;
  }

  h2 {
    @apply text-h2;
  }

  h3 {
    @apply text-h3;
  }

  h4 {
    @apply text-h4;
  }

  h5 {
    @apply text-h5;
  }

  h6 {
    @apply text-h6;
  }

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
  input[type='number'] {
    -moz-appearance: textfield;
  }
}

@layer components {
  /* text specific */
  .text-h1 {
    @apply overflow-anywhere
      font-heading
      text-4xl   
      md:text-5xl
      xl:text-6xl;
  }
  .text-h2 {
    @apply overflow-anywhere
      font-heading
      text-3xl    
      md:text-4xl
      xl:text-5xl;
  }
  .text-h3 {
    @apply overflow-anywhere
      font-heading
      font-light
      text-2xl            
      md:text-3xl
      xl:text-4xl;
  }
  .text-h4 {
    @apply overflow-anywhere
      font-heading
      text-xl  
      md:text-2xl
      xl:text-3xl;
  }
  .text-h5 {
    @apply overflow-anywhere
      font-heading
      text-base   
      md:text-lg;
  }
  .text-h6 {
    @apply overflow-anywhere
      font-heading
      text-sm;
  }
  .text-body {
    @apply font-sans
      text-base
      font-normal;
  }
  .text-body-sm {
    @apply font-sans
      text-xs
      font-normal;
  }
  .text-body-lg {
    @apply font-sans
      text-lg
      font-normal;
  }
  .text-link {
    @apply text-body
      font-bold
      uppercase
      underline;
  }
  .text-link-sm {
    @apply text-link
      text-xs
      underline-offset-4;
  }
  .text-caption {
    @apply font-sans
      text-sm
      font-bold
      uppercase;
  }
  .text-label {
    @apply font-sans
      text-xs
      font-normal
      uppercase
      tracking-wide;
  }
  .text-label-sm {
    @apply font-sans
      text-2xs
      font-normal
      uppercase
      tracking-wide;
  }
  .text-nav {
    @apply font-sans
      text-sm
      font-bold
      uppercase
      tracking-wide;
  }
  .text-superheading {
    @apply font-sans
      text-xs
      font-normal
      uppercase
      tracking-wide
      lg:text-sm;
  }
  /* button specific */
  .btn-text {
    @apply font-sans
      text-base      
      tracking-wider;
  }
  .btn {
    @apply btn-text
      relative
      m-0
      inline-flex
      h-[3.125rem]
      items-center
      justify-center
      overflow-hidden
      whitespace-nowrap
      rounded
      border
      border-solid
      px-5
      py-3
      text-center
      transition-colors
      disabled:cursor-not-allowed
      disabled:border-border
      disabled:bg-neutralLighter
      disabled:text-neutralMedium
      disabled:hover:border-border
      disabled:hover:bg-neutralLighter
      disabled:hover:text-neutralMedium
      [&>p]:truncate;
  }
  .btn-primary {
    @apply btn
      border-[var(--primary-btn-border-color)]
      bg-[var(--primary-btn-bg-color)]
      text-[var(--primary-btn-text-color)]
      md:hover:border-[var(--primary-btn-hover-border-color)]
      md:hover:bg-[var(--primary-btn-hover-bg-color)]
      md:hover:text-[var(--primary-btn-hover-text-color)];
  }
  .btn-secondary {
    @apply btn
      border-[var(--secondary-btn-border-color)]
      bg-[var(--secondary-btn-bg-color)]
      text-[var(--secondary-btn-text-color)]
      md:hover:border-[var(--secondary-btn-hover-border-color)]
      md:hover:bg-[var(--secondary-btn-hover-bg-color)]
      md:hover:text-[var(--secondary-btn-hover-text-color)];
  }
  .btn-inverse-light {
    @apply btn
      border-[var(--inverse-light-btn-border-color)]
      bg-[var(--inverse-light-btn-bg-color)]
      text-[var(--inverse-light-btn-text-color)]
      md:hover:border-[var(--inverse-light-btn-hover-border-color)]
      md:hover:bg-[var(--inverse-light-btn-hover-bg-color)]
      md:hover:text-[var(--inverse-light-btn-hover-text-color)];
  }
  .btn-inverse-dark {
    @apply btn
      border-[var(--inverse-dark-btn-border-color)]
      bg-[var(--inverse-dark-btn-bg-color)]
      text-[var(--inverse-dark-btn-text-color)]
      md:hover:border-[var(--inverse-dark-btn-hover-border-color)]
      md:hover:bg-[var(--inverse-dark-btn-hover-bg-color)]
      md:hover:text-[var(--inverse-dark-btn-hover-text-color)];
  }
  .btn-select {
    @apply relative flex h-12 items-center justify-center overflow-hidden rounded border border-border bg-white px-5 py-3 text-sm text-text transition md:hover:bg-neutralLightest;
  }
  /* underline specific */
  .hover-text-underline {
    @apply relative
      inline
      bg-[linear-gradient(currentColor,currentColor)]
      bg-[length:0%_1px]
      bg-left-bottom
      bg-no-repeat
      transition-[background-size]
      duration-200
      focus:bg-[length:100%_1px]
      md:hover:bg-[length:100%_1px];
  }
  .text-underline {
    @apply relative
      inline
      bg-[linear-gradient(currentColor,currentColor)]
      bg-[length:100%_1px]
      bg-right-bottom
      bg-no-repeat
      transition-[background-size]
      duration-200
      focus:bg-[length:0%_1px]
      md:hover:bg-[length:0%_1px];
  }
  .text-main-underline {
    @apply relative
      inline
      bg-[linear-gradient(currentColor,currentColor)]
      bg-[length:100%_2px]
      bg-right-bottom
      bg-no-repeat
      pb-px
      transition-[background-size]
      duration-200
      focus:bg-[length:0%_2px]
      md:hover:bg-[length:0%_2px];
  }
  /* inputs specific */
  .input-text {
    @apply h-12
      w-full
      rounded
      border
      border-border
      px-3.5
      py-2.5
      text-base;
  }
  .input-label {
    @apply block
      pb-1
      pl-0
      font-sans
      text-sm
      font-bold;
  }
  /* swiper specific */
  .swiper-wrapper-center .swiper-wrapper {
    @apply flex
      items-center;
  }
  .swiper-offset-gradient-270-left {
    @apply before:pointer-events-none before:absolute before:bottom-0 before:left-[-8px] before:top-0 before:z-10 before:h-full before:w-[5.9375rem] before:-rotate-180 before:opacity-[60] before:lg:w-[8.125rem] before:bg-[linear-gradient(270deg,var(--background)_0%,rgba(255,255,255,0)_100%)];
  }
  .swiper-offset-gradient-270-right {
    @apply after:pointer-events-none after:absolute after:bottom-0 after:right-[-8px] after:top-0 after:z-10 after:h-full after:w-[5.9375rem] after:opacity-[60] after:lg:w-[8.125rem] after:bg-[linear-gradient(270deg,var(--background)_0%,rgba(255,255,255,0)_100%)];
  }
  .active-bullet-black .swiper-pagination-bullet-active {
    @apply bg-black;
  }
  .loading-shimmer {
    @apply pointer-events-none absolute inset-0 -translate-x-full animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-neutralLighter to-transparent;
  }
  /* multi-range slider style */
  .range-thumb {
    @apply pointer-events-none absolute h-0 w-full;
  }
  .range-thumb,
  .range-thumb::-webkit-slider-thumb {
    -webkit-appearance: none;
    -webkit-tap-highlight-color: transparent;
  }
  /* For Chrome browsers */
  .range-thumb::-webkit-slider-thumb {
    @apply pointer-events-auto relative mt-[4px] h-3 w-3 cursor-pointer rounded-full border-none bg-neutralLightest shadow-[0_0_1px_1px_#ced4da];
  }
  /* For Firefox browsers */
  .range-thumb::-moz-range-thumb {
    @apply pointer-events-auto relative mt-[4px] h-3 w-3 cursor-pointer rounded-full border-none bg-neutralLightest shadow-[0_0_1px_1px_#ced4da];
  }
  /* Shoppable social video */
  .shoppable-video-hero-container {
    container-type: size;
    container-name: shoppable-video-hero-container;
    width: 100%;
  }
  @container shoppable-video-hero-container (min-height: 600px) {
    .video-ratio {
      aspect-ratio: 9 / 16;
    }
  }
  @container shoppable-video-hero-container (max-height: 599px) {
    .video-ratio {
      width: 100%;
      height: auto;
      aspect-ratio: unset;
    }
    .video-ratio video {
      object-position: top;
    }
  }
  @container shoppable-video-hero-container (max-width: 767px) {
    .video-ratio {
      width: 100%;
      height: auto;
      aspect-ratio: unset;
    }
    .video-ratio video {
      object-position: top;
    }
  }
}

@layer utilities {
  /* hide scrollbar */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  /* horizontal padding */
  .px-contained {
    @apply px-4
      md:px-8
      xl:px-12;
  }
  /* vertical padding */
  .py-contained {
    @apply py-8
      md:py-10
      xl:py-12;
  }
  .pt-contained {
    @apply pt-8
      md:pt-10
      xl:pt-12;
  }
  .pb-contained {
    @apply pb-8
      md:pb-10
      xl:pb-12;
  }
  .overflow-anywhere {
    overflow-wrap: anywhere;
  }
  .media-fill {
    @apply absolute
      left-1/2
      top-1/2
      h-full
      w-full
      -translate-x-1/2
      -translate-y-1/2
      object-cover;
  }
  .absolute-center {
    @apply absolute
      left-1/2
      top-1/2
      -translate-x-1/2
      -translate-y-1/2;
  }
}

/* Fallback for --viewport-height during initial render */
html,
body {
  min-height: 100vh; /* Fallback */
  min-height: var(--viewport-height, 100vh);
}

.h-\[var\(--viewport-height\)\] {
  height: 100vh; /* Fallback */
  height: var(--viewport-height, 100vh);
}

.min-h-\[var\(--viewport-height\)\] {
  min-height: 100vh; /* Fallback */
  min-height: var(--viewport-height, 100vh);
}
